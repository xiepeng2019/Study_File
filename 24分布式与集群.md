# 分布式与集群

讲师：pansir

## 集中式

所有的东西放到一个机器，所有的功能写到一个服务

## 分布式

分布式更多的一个概念，是为了解决单个物理服务器容量和性能瓶颈问题而采用的优化手段。该领域需要解决的问题极多，在不同的技术层面上，又包括：分布式文件系统、分布式缓存、分布式数据库、分布式计算等，一些名词如Hadoop、zookeeper、MQ等都跟分布式有关。从理念上讲，分布式的实现有两种形式：

### 水平扩展

当一台机器扛不住流量时，就通过添加机器的方式，将流量平分到所有服务器上，所有机器都可以提供相当的服务

### 垂直拆分

前端有多种查询需求时，一台机器扛不住，可以将不同的需求分发到不同的机器上，比如A机器处理余票查询的请求，B机器处理支付的请求。

当垂直应用越来越多，应用之间交互不可避免，将核心业务抽取出来，作为独立的服务，逐渐形成稳定的服务中心，使前端应用能更快速的响应多变的市场需求。此时，用于提高业务复用及整合的 分布式服务框架(RPC) 是关键。

### 特点

1. 分布性：空间随意分布，互相没有主从之分
2. 透明性：系统资源被所有机器共享
3. 同一性：机器并行运行，协同完成共同的任务
4. 通信性：任意两个机器可以通信互换信息

### 分布式框架

1. hadoop分布式计算
2. Dubbo：RPC
3. SpringCloud：http

## 集群

高可用集群

负载均衡集群

科学计算集群

## 总结

|          | 分布式                                       | 集群                                     |
| -------- | -------------------------------------------- | ---------------------------------------- |
| 理论     | 以缩短单个任务的执行时间来提升效率的         | 通过提高单位时间内执行的任务数来提升效率 |
| 表现形式 | 一个业务分拆多个子业务，部署在不同的服务器上 | 同一个业务，部署在多个服务器上           |
| 本质     | 工作方式                                     | 物理形态                                 |
| 目的     | 解决高性能、高并发                           | 解决高可用                               |
|          |                                              |                                          |

